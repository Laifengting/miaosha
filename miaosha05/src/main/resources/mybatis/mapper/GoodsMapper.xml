<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.lft.miaosha.dao.GoodsMapper">
    <!-- List<GoodsVo> selectAllGoodsVo(); -->
    <select id = "selectAllGoodsVo"
            resultType = "com.lft.miaosha.entity.vo.GoodsVo">
        SELECT g.*, mg.miaosha_price, mg.stock_count, mg.start_date, mg.end_date
            FROM miaosha_goods mg
            LEFT JOIN goods    g
                      ON mg.goods_id = g.id
    </select>

    <!-- GoodsVo selectGoodsVoByGoodsId(Long goodsId); -->
    <select id = "selectGoodsVoByGoodsId"
            resultType = "com.lft.miaosha.entity.vo.GoodsVo">
        SELECT g.*, mg.miaosha_price, mg.stock_count, mg.start_date, mg.end_date
            FROM miaosha_goods mg
            LEFT JOIN goods    g
                      ON mg.goods_id = g.id
            WHERE g.id = #{goodsId}
    </select>
</mapper>
